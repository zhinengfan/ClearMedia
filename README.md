# ClearMedia

ClearMedia æ˜¯ä¸€ä¸ªå…¨æ ˆåº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨è‡ªåŠ¨æ‰«æã€ä¸°å¯Œå’Œç»„ç»‡æ‚¨çš„åª’ä½“åº“ã€‚å®ƒç»“åˆäº†å¼ºå¤§çš„ FastAPI åç«¯å’Œç°ä»£åŒ–çš„ React å‰ç«¯ï¼Œæä¾›æ— ç¼çš„åª’ä½“ç®¡ç†ä½“éªŒã€‚

![ClearMedia Screenshot](snapshot.png)

## æ ¸å¿ƒåŠŸèƒ½

-   **ğŸ“‚ è‡ªåŠ¨æ‰«æ**: å°† ClearMedia æŒ‡å‘æ‚¨çš„åª’ä½“ç›®å½•ï¼Œå®ƒå°†è‡ªåŠ¨æ£€æµ‹æ–°æ–‡ä»¶ã€‚
-   **ğŸ§  æ™ºèƒ½ä¸°å¯Œ**: ä» **TMDB** è·å–ä¸°å¯Œçš„å…ƒæ•°æ®ï¼Œå¹¶åˆ©ç”¨ **LLM** æ¥åˆ†æå’Œæ ‡è®°æ‚¨çš„åª’ä½“ã€‚
-   **âœ¨ æ™ºèƒ½æ•´ç†**: è‡ªåŠ¨å°†æ‚¨çš„æ–‡ä»¶é‡å‘½åå¹¶æ•´ç†åˆ°ä¸€ä¸ªæ¸…æ™°çš„ã€ç”¨æˆ·å®šä¹‰çš„ç›®å½•ç»“æ„ä¸­ã€‚
-   **ğŸ–¥ï¸ ç°ä»£åŒ– UI**: ä¸€ä¸ªåŸºäº React çš„å“åº”å¼ç•Œé¢ï¼Œç”¨äºç›‘æ§è¿›åº¦ã€æŸ¥çœ‹ç»Ÿè®¡æ•°æ®å’Œç®¡ç†æ‚¨çš„åª’ä½“åº“ã€‚
-   **ğŸš€ Docker åŒ–éƒ¨ç½²**: ä½¿ç”¨å•ä¸ª `docker-compose` å‘½ä»¤ï¼Œåœ¨å‡ åˆ†é’Ÿå†…å¯åŠ¨å¹¶è¿è¡Œã€‚
-   **ğŸ”§ åŠ¨æ€é…ç½®**: æ— éœ€é‡å¯åº”ç”¨ï¼Œå³å¯ä» UI å³æ—¶è°ƒæ•´ç³»ç»Ÿè®¾ç½®ã€‚

## æŠ€æœ¯æ ˆ

-   **åç«¯**: Python, FastAPI, SQLModel
-   **å‰ç«¯**: React 19, TypeScript, Vite, Tailwind CSS
-   **æ•°æ®åº“**: SQLite (é»˜è®¤)
-   **å®¹å™¨åŒ–**: Docker & Docker Compose

## ä½¿ç”¨ Docker å¿«é€Ÿå¯åŠ¨ (æ¨è)

ä½¿ç”¨ Docker éƒ¨ç½²æ˜¯ä¸Šæ‰‹çš„æœ€ç®€å•æ–¹æ³•ã€‚

1.  **å…‹éš†ä»“åº“**:
    ```bash
    git clone https://github.com/your-username/clearmedia.git
    cd clearmedia
    ```

2.  **é…ç½®ç¯å¢ƒ**:
    ä»ç¤ºä¾‹æ–‡ä»¶åˆ›å»º `.env` æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶æ§åˆ¶ API å¯†é’¥ã€åª’ä½“è·¯å¾„å’Œå…¶ä»–å…³é”®è®¾ç½®ã€‚
    ```bash
    cp .env.example .env
    ```
    ç°åœ¨ï¼Œç”¨æ‚¨åå¥½çš„è®¾ç½®ç¼–è¾‘ `.env` æ–‡ä»¶ã€‚

3.  **æ„å»ºå¹¶è¿è¡Œ**:
    ä½¿ç”¨ Docker Compose æ„å»ºé•œåƒå¹¶å¯åŠ¨æœåŠ¡ã€‚
    ```bash
    docker compose build --parallel
    docker compose up -d
    ```

4.  **è®¿é—®åº”ç”¨**:
    -   **å‰ç«¯ UI**: `http://localhost:5173`
    -   **åç«¯ API**: `http://localhost:8000/api`

### ç®¡ç†æœåŠ¡

-   **æŸ¥çœ‹æ—¥å¿—**: `docker compose logs -f`
-   **åœæ­¢æœåŠ¡**: `docker compose down`

## æœ¬åœ°å¼€å‘

é€‚ç”¨äºè´¡çŒ®è€…æˆ–åå¥½æ‰‹åŠ¨è¿è¡ŒæœåŠ¡çš„ç”¨æˆ·ã€‚

### å…ˆå†³æ¡ä»¶

-   Node.js >= 20 & pnpm >= 10
-   Python 3.11+ & [uv](https://github.com/astral-sh/uv)

### è®¾ç½®

1.  **å®‰è£…ä¾èµ–**:
    åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œå®‰è£…å‰ç«¯å’Œåç«¯çš„ä¾èµ–ã€‚
    ```bash
    pnpm install
    ```

2.  **é…ç½®ç¯å¢ƒ**:
    å°† `.env.example` å¤åˆ¶ä¸º `.env` å¹¶è¿›è¡Œè‡ªå®šä¹‰ã€‚ç”± `uv` è¿è¡Œçš„åç«¯æœåŠ¡å™¨å°†è‡ªåŠ¨åŠ è½½å®ƒã€‚

3.  **è¿è¡Œåç«¯**:
    æ­¤å‘½ä»¤ä¼šä»¥çƒ­é‡è½½æ¨¡å¼å¯åŠ¨ FastAPI æœåŠ¡å™¨ã€‚
    ```bash
    uv run uvicorn main:app --app-dir backend --reload --port 8000
    ```

4.  **è¿è¡Œå‰ç«¯**:
    æ­¤å‘½ä»¤ä¼šå¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ã€‚
    ```bash
    pnpm -F frontend dev
    ```

-   **å‰ç«¯**: `http://localhost:5173`
-   **åç«¯ API**: `http://localhost:8000`

## ç”Ÿæˆ API ç±»å‹

ä¸ºç¡®ä¿å‰åç«¯åŒæ­¥ï¼Œæ‚¨å¯ä»¥ä»åç«¯çš„ OpenAPI è§„èŒƒé‡æ–°ç”Ÿæˆ TypeScript ç±»å‹ã€‚

```bash
pnpm gen:types
```
æ­¤å‘½ä»¤å°†è·å–æœ€æ–°çš„ API è§„èŒƒå¹¶æ›´æ–° `frontend/src/types/openapi.d.ts`ã€‚